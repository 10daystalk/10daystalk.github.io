<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>ECharts</title>
    <!-- 引入 echarts.js -->
    <script src="/js/echarts.min.js" type="text/javascript" charset="utf-8"></script>
    <script type="text/javascript"src="/js/jquery.min.js"></script>
</head>
<body>
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div id="container"></div>
    <style>
    #container{
    width: 800px;
    height: 600px;
    border: 1px solid #ccc;
    margin: 0 auto;
    } 
    </style>
<script type="text/javascript">
    var container = document.getElementById('container');
    // 初始化加载对象myContainer
    var myContainer = echarts.init(container);
    //未获取数据前，显示loading加载动画
    myContainer.showLoading();
    function bindData() {
        //为了效果明显，我们做了延迟读取数据
        setTimeout(function() {
            //异步加载数据,get请求我们刚刚准备的json文件,正式开发中调用相应的接口
            $.get('echarts.json', function(res) {
                console.log(res)
                //获取数据后，隐藏loading动画
                myContainer.hideLoading();
                myContainer.setOption(
                    option = {
                        tooltip: {
                        trigger: 'item',
                        formatter: "{a} <br/>{b}: {c} ({d}%)"
                    },
                    legend: {
                        orient: 'horizontal',
                        x: 'left',
                        data:res.name
                    },
                    series: [
                        {
                            name:'访问来源',
                            type:'pie',
                            selectedMode: 'single',
                            radius: ['0', '30%'],
                 
                            label: {
                                normal: {
                                    position: 'inner'
                                }
                            },
                            labelLine: {
                                normal: {
                                    show: false
                                }
                            },
                            data:res.little
                       },
                        {
                            name:'访问来源',
                            type:'pie',
                            radius: ['40%', '55%'],
                            label: {
                                normal: {
                                    formatter: '{a|{a}}{abg|}\n{hr|}\n  {b|{b}：}{c}  {per|{d}%}  ',
                                    backgroundColor: '#eee',
                                    borderColor: '#aaa',
                                    borderWidth: 1,
                                    borderRadius: 4,
                                    // shadowBlur:3,
                                    // shadowOffsetX: 2,
                                    // shadowOffsetY: 2,
                                    // shadowColor: '#999',
                                    // padding: [0, 7],
                                    rich: {
                                        a: {
                                            color: '#999',
                                            lineHeight: 22,
                                            align: 'center'
                                        },
                                         abg: {
                                             backgroundColor: '#333',
                                             width: '100%',
                                             align: 'right',
                                             height: 22,
                                             borderRadius: [4, 4, 0, 0]
                                         },
                                        hr: {
                                            borderColor: '#aaa',
                                            width: '100%',
                                            borderWidth: 0.5,
                                            height: 0
                                        },
                                        b: {
                                            fontSize: 16,
                                            lineHeight: 33
                                        },
                                        per: {
                                            color: '#eee',
                                            backgroundColor: '#334455',
                                            padding: [2, 4],
                                            borderRadius: 2
                                        }
                                    }
                                }
                            },
                            data:res.data
                        }
                    ]                        
                });
            })
        }, 1000);
    }
    bindData();
        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
    </script>
</body>
</html
